<div class="container">
    <!-- Header -->
    <div data-ng-include="'components/license/profileNavigation.html'"></div>
    <!--<a ng-href="#/authorisedUser/bylicense/{{licenseId}}">Authorised Users</a>-->
    <h3>License</h3>

    <div class="form-group">
        <div>
            <b><label for="product">Product:</label></b><br>
            <input id="product" class="form-group" value="{{license.product.name + ' ' + license.product.release}}"
                   disabled/><br>
        </div>
        <div>
            <b><label for="applicantName">Applicant name (person): </label></b><br>
            <input id="applicantName" class="form-group" ng-model="license.name" ng-disabled="editorDisabled"/><br>
        </div>
        <div>
            <b><label>Customer: </label></b><br>
            <input class="form-group" ng-model="license.customer.name" disabled/><br>
        </div>
        <div>
            <b><label>Email: </label></b><br>
            <input class="form-group" ng-model="license.email" ng-disabled="editorDisabled"/><br>
        </div>
        <div>
            <b><label>Phone: </label></b><br>
            <input class="form-group" ng-model="license.phone" ng-disabled="editorDisabled"/><br>
        </div>
        <div>
            <b><label>Skype: </label></b><br>
            <input class="form-group" ng-model="license.skype" ng-disabled="editorDisabled"/><br>
        </div>
        <div >
            <b><label>Application area: </label></b><br>
            <input class="form-group" ng-model="license.applicationArea" maxlength="200" ng-disabled="editorDisabled"/><br>
        </div>

    </div>

    <button ng-click="enableEditor()">Edit</button>
    <br>
    <button ng-click="saveProfile()" ng-disabled="editorDisabled">Save</button>
    <br>
    <!--<button ng-click="disableEditor()" ng-disabled="editorDisabled">Cancel</button>-->


    <h3>Authorised Users</h3>
    <table class="table" id="authorisedUsersTable">
        <tr>
            <td>First name</td>
            <td>Surname</td>
            <td>Email</td>
            <td>Occupation</td>
        </tr>
        <tbody>
        <tr ng-repeat="au in authorisedUser">
            <td>{{ au.firstName }}</td>
            <td>{{ au.lastName }}</td>
            <td>{{ au.email }}</td>
            <td>{{ au.occupation }}</td>
        </tr>
        </tbody>
    </table>

    <div ng-show="AuthorisedUserForm">
        <form novalidate class="form" name="form" ng-submit="saveData()">
            <div class="form-group">
                <label for="firstName">First name</label>
                <input type="text" class="form-control" id="firstName" ng-model="authorised.firstName" required name="authName">
                <div ng-show="form.$submitted || form.authName.$touched">
                    <div ng-show="form.authName.$error.required">First name is needed.</div>
                </div>
            </div>
            <div class="form-group">
                <label for="surname">Surname</label>
                <input type="text" class="form-control" id="surname" ng-model="authorised.lastName" required
                       name="authSurname">

                <div ng-show="form.$submitted || form.authSurname.$touched">
                    <!--<div ng-show="form.pRelease.$error.required">Release number is needed.</div>-->
                </div>
            </div>
            <div class="form-group">
                <label for="email">E-mail</label>
                <input type="email" class="form-control" id="email" ng-model="authorised.email" required
                       name="authEmail">

                <div ng-show="form.$submitted || form.authEmail.$touched">
                    <span ng-show="form.authEmail.$error.required">Email is needed.</span>
                    <span ng-show="form.authEmail.$error.authEmail"></span>
                </div>
            </div>
            <div class="form-group">
                <label for="occupation">Occupation</label>
                <input type="text" class="form-control" id="occupation" ng-model="authorised.occupation" required
                       name="authOccupation">
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-default">SAVE</button>
            </div>
        </form>
    </div>

    <button ng-click="openAuthorisedUserForm()">Add authorised user</button>
</div>

